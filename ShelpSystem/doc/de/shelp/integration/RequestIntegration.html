<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc (1.8.0_25) on Sat Jun 20 10:05:55 CEST 2015 -->
<title>RequestIntegration</title>
<meta name="date" content="2015-06-20">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="RequestIntegration";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/RequestIntegration.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../de/shelp/integration/RatingIntegration.html" title="class in de.shelp.integration"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../de/shelp/integration/StateIntegration.html" title="class in de.shelp.integration"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?de/shelp/integration/RequestIntegration.html" target="_top">Frames</a></li>
<li><a href="RequestIntegration.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">de.shelp.integration</div>
<h2 title="Class RequestIntegration" class="title">Class RequestIntegration</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>de.shelp.integration.RequestIntegration</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">RequestIntegration</span>
extends java.lang.Object</pre>
<div class="block">Webservice der alle notwendigen Methoden zur Anfrageverwaltung bereitstellt.
 Über die Schnittstellen können Anfrage akzeptiert
 <a href="../../../de/shelp/integration/RequestIntegration.html#acceptRequest-long-java.lang.String-int-"><code>acceptRequest(long, String, int)</code></a>, erstellt
 <a href="../../../de/shelp/integration/RequestIntegration.html#createRequest-long-java.lang.String-int-java.lang.String-"><code>createRequest(long, String, int, String)</code></a>, und gelöscht werden
 <a href="../../../de/shelp/integration/RequestIntegration.html#deleteRequest-long-int-"><code>deleteRequest(long, int)</code></a>. Zudem können alle Anfrage {@link
 getRequests(int) sowie alle aktualisierten Anfrage</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Thomas Sennekamp</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../de/shelp/integration/RequestIntegration.html#RequestIntegration--">RequestIntegration</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../de/shelp/dto/ReturnCodeResponse.html" title="class in de.shelp.dto">ReturnCodeResponse</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../de/shelp/integration/RequestIntegration.html#acceptRequest-long-java.lang.String-int-">acceptRequest</a></span>(long&nbsp;requestId,
             java.lang.String&nbsp;acceptedIds,
             int&nbsp;sessionId)</code>
<div class="block">Schnittstelle, die genutzt werden kann um eine Anfrage (<code>Request</code>)
 zu akzeptieren.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../de/shelp/dto/ReturnCodeResponse.html" title="class in de.shelp.dto">ReturnCodeResponse</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../de/shelp/integration/RequestIntegration.html#createRequest-long-java.lang.String-int-java.lang.String-">createRequest</a></span>(long&nbsp;tourId,
             java.lang.String&nbsp;notice,
             int&nbsp;sessionId,
             java.lang.String&nbsp;wishes)</code>
<div class="block">Schnittstelle die genutzt werden kann umd eine Anfrage zu erstellen. (
 <code>Request</code>) Es wird zunächstgeprüft, ob die Anfrage und die mit ihr
 verbundene Session gültig ist.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../de/shelp/dto/ReturnCodeResponse.html" title="class in de.shelp.dto">ReturnCodeResponse</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../de/shelp/integration/RequestIntegration.html#deleteRequest-long-int-">deleteRequest</a></span>(long&nbsp;requestId,
             int&nbsp;sessionId)</code>
<div class="block">Schnittstelle, die genutzt werden kann um eine Anfrage zu löschen.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../de/shelp/dto/request/RequestsResponse.html" title="class in de.shelp.dto.request">RequestsResponse</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../de/shelp/integration/RequestIntegration.html#getRequests-int-">getRequests</a></span>(int&nbsp;sessionId)</code>
<div class="block">Schnittstelle, die genutzt werden kann um Anfragen <code>Request</code>)
 abzufragen.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../de/shelp/dto/request/RequestsResponse.html" title="class in de.shelp.dto.request">RequestsResponse</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../de/shelp/integration/RequestIntegration.html#getUpdatedRequests-int-">getUpdatedRequests</a></span>(int&nbsp;sessionId)</code>
<div class="block">Schnittstelle zur Abfrage von aktualisierten Anfragen.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="RequestIntegration--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>RequestIntegration</h4>
<pre>public&nbsp;RequestIntegration()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="acceptRequest-long-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acceptRequest</h4>
<pre>public&nbsp;<a href="../../../de/shelp/dto/ReturnCodeResponse.html" title="class in de.shelp.dto">ReturnCodeResponse</a>&nbsp;acceptRequest(long&nbsp;requestId,
                                        java.lang.String&nbsp;acceptedIds,
                                        int&nbsp;sessionId)</pre>
<div class="block">Schnittstelle, die genutzt werden kann um eine Anfrage (<code>Request</code>)
 zu akzeptieren. Es wird zunächst geprüft, ob die Anfrage und die mit ihr
 verbundene Session gültig ist. Weiterhin wird geprüft, ob die Anfrage
 bereits akzeptiert wurde. Anschließend wird überprüft, welche Einträge
 der Wunschliste auf der Einkaufliste akzeptiert wurden und dem
 entsprechend der Anfragestatus <code>RequestStatus</code> auf DENIED(alle
 abgelehnt), ACCEPT(alle akzeptiert),PARTLY_ACCEPT(teilweise akzeptiert)
 gesetzt. <br>
 Die Ids werden dabei als String mit dem Trennungszeichen "\n" übertragen.
 Dies ist nötig da kSoap keine Listen übertragen kann.<br>
 Abschließend wird die Anfrage inkl. neuem Status in der Datenbank
 gespeichert sowie eine Mail an den entsprechenden Benutzer gesendet.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>requestId</code> - ID der Anfrage (muss in der Datenbank existieren)</dd>
<dd><code>acceptedIds</code> - IDs der akzeptierten Wunschliste-Einträge als String getrennt
            durch "\n"</dd>
<dd><code>sessionId</code> - SessionId die die Fahrt anlegt (muss aktuell angemeldet sein)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>einen <a href="../../../de/shelp/dto/ReturnCodeResponse.html" title="class in de.shelp.dto"><code>ReturnCodeResponse</code></a> der entweder den Status OK oder
         ERROR + Fehlernachricht beinhaltet</dd>
</dl>
</li>
</ul>
<a name="createRequest-long-java.lang.String-int-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createRequest</h4>
<pre>public&nbsp;<a href="../../../de/shelp/dto/ReturnCodeResponse.html" title="class in de.shelp.dto">ReturnCodeResponse</a>&nbsp;createRequest(long&nbsp;tourId,
                                        java.lang.String&nbsp;notice,
                                        int&nbsp;sessionId,
                                        java.lang.String&nbsp;wishes)</pre>
<div class="block">Schnittstelle die genutzt werden kann umd eine Anfrage zu erstellen. (
 <code>Request</code>) Es wird zunächstgeprüft, ob die Anfrage und die mit ihr
 verbundene Session gültig ist. Weiterhin wird geprüft, ob die verbundene
 Tour (<code>Tour</code>) überhaupt existiert. Im Fehlerfall wird eine
 Fehlermeldung geworfen. Als nächstes wird geprüft, ob eine Anfrage an
 seine eigene Tour versucht wird, dies ist ebenfalls nicht erlaubt und
 wird unterbunden. <br>
 Anschließend wird die Anfrage erstellt und mit den übergebenen Inhalten
 gefüllt und in der Datenbank gespeichert sowie eine Status-Email an den
 Besitzer der Tour gesendet.<br>
 Die Wünsche werden dabei als String mit dem Trennungszeichen "\n"
 übertragen. Dies ist nötig da kSoap keine Listen übertragen kann.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>targetUserId</code> - UserID des Besitzer der Tour (muss in der Datenbank
            existieren)</dd>
<dd><code>tourId</code> - Aktuelle TourId (muss in der Datenbank existieren)</dd>
<dd><code>notice</code> - Notiz des Anfragenden (optional für den Benutzer)</dd>
<dd><code>sessionId</code> - Aktuelle SessionID (muss aktuell angemeldet sein)</dd>
<dd><code>wishes</code> - Liste mit Einkaufswünschen als String getrennt durch "\n"</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>einen <a href="../../../de/shelp/dto/ReturnCodeResponse.html" title="class in de.shelp.dto"><code>ReturnCodeResponse</code></a> der entweder den Status OK oder
         ERROR + Fehlernachricht beinhaltet</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../de/shelp/exception/SessionNotExistException.html" title="class in de.shelp.exception">SessionNotExistException</a></code></dd>
</dl>
</li>
</ul>
<a name="getRequests-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRequests</h4>
<pre>public&nbsp;<a href="../../../de/shelp/dto/request/RequestsResponse.html" title="class in de.shelp.dto.request">RequestsResponse</a>&nbsp;getRequests(int&nbsp;sessionId)</pre>
<div class="block">Schnittstelle, die genutzt werden kann um Anfragen <code>Request</code>)
 abzufragen. Es wird zunächstgeprüft, ob die mit ihr verbundene Session
 gültig ist und gibt <code>ReturnCode</code> ERROR zurück, falls nicht.
 Anschließend werden alle eigenen, gültigen Anfragen <code>Request</code>
 abgerufen und zurückgegeben.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - Aktuelle SessionID (muss aktuell angemeldet sein)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>einen <a href="../../../de/shelp/dto/ReturnCodeResponse.html" title="class in de.shelp.dto"><code>ReturnCodeResponse</code></a> der entweder den Status OK oder
         ERROR + Fehlernachricht beinhaltet</dd>
</dl>
</li>
</ul>
<a name="deleteRequest-long-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteRequest</h4>
<pre>public&nbsp;<a href="../../../de/shelp/dto/ReturnCodeResponse.html" title="class in de.shelp.dto">ReturnCodeResponse</a>&nbsp;deleteRequest(long&nbsp;requestId,
                                        int&nbsp;sessionId)</pre>
<div class="block">Schnittstelle, die genutzt werden kann um eine Anfrage zu löschen. Es
 wird zunächstgeprüft, ob die Anfrage und die mit ihr verbundene Session
 gültig ist und gibt <code>ReturnCode</code> ERROR zurück, falls nicht. Im
 Erfolgsfall wird die Anfrage gelöscht.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>requestId</code> - ID der zu löschenden Anfrage</dd>
<dd><code>sessionId</code> - Aktuelle SessionID (muss aktuell angemeldet sein)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>einen <a href="../../../de/shelp/dto/ReturnCodeResponse.html" title="class in de.shelp.dto"><code>ReturnCodeResponse</code></a> der entweder den Status OK oder
         ERROR + Fehlernachricht beinhaltet</dd>
</dl>
</li>
</ul>
<a name="getUpdatedRequests-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getUpdatedRequests</h4>
<pre>public&nbsp;<a href="../../../de/shelp/dto/request/RequestsResponse.html" title="class in de.shelp.dto.request">RequestsResponse</a>&nbsp;getUpdatedRequests(int&nbsp;sessionId)</pre>
<div class="block">Schnittstelle zur Abfrage von aktualisierten Anfragen. Es wird
 zunächstgeprüft, ob die verbundene Session gültig ist und gibt
 <code>ReturnCode</code> ERROR zurück, Anschließend werden die aktualiserten
 Anfragen aus der Datenbank abgerufen und zurückgegeben. Zurückgelieferte
 Anfragen werden als nicht aktualisiert markiert und wieder in der
 Datenbank gespeichert.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - Aktuelle SessionID (muss aktuell angemeldet sein)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>einen <a href="../../../de/shelp/dto/ReturnCodeResponse.html" title="class in de.shelp.dto"><code>ReturnCodeResponse</code></a> der entweder den Status OK oder
         ERROR + Fehlernachricht beinhaltet</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../de/shelp/exception/SessionNotExistException.html" title="class in de.shelp.exception">SessionNotExistException</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/RequestIntegration.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../de/shelp/integration/RatingIntegration.html" title="class in de.shelp.integration"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../de/shelp/integration/StateIntegration.html" title="class in de.shelp.integration"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?de/shelp/integration/RequestIntegration.html" target="_top">Frames</a></li>
<li><a href="RequestIntegration.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
